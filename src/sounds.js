/* eslint-env browser */
import {
  AudioManager,
} from './audio.js';

// https://egonelbre.com/project/jsfx/
// https://github.com/greggman/jsfx

/* eslint-disable quotes */
/* eslint-disable optional-comma-spacing/optional-comma-spacing */
export const sounds = {
  placeBomb:         { jsfx: ['sine',0.0000,0.4000,0.0000,0.1260,0.0840,0.0720,110.0000,548.0000,2400.0000,-0.7300,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.2700,0.2000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.1730,0.0000]      , },
  eggCollect:        { jsfx: ["synth",3.0000,0.3020,0.0000,0.1760,0.0000,0.0240,20.0000,1377.0000,2400.0000,0.4240,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.1000,0.0000], },
  oldHatch:          { jsfx: ["sine",3.0000,0.3020,0.0000,0.1300,0.0000,0.2920,110.0000,1610.0000,2400.0000,-0.8080,0.0000,0.3270,27.0284,0.5671,0.0600,0.0000,0.0000,0.5000,-0.5740,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.2490,0.0000], },
  step:              { jsfx: ["noise",0.0000,0.3450,0.0000,0.0380,0.0000,0.0300,708.0000,93.0000,20.0000,-0.8720,-0.3140,0.0520,1.7376,0.0003,-0.9180,0.6320,0.8690,0.2460,0.0000,0.0000,-0.9180,-0.8500,1.0000,-1.0000,0.0000,0.2710,0.0000], },
  rock:              { jsfx: ["square",14.0000,0.3450,0.0000,0.1580,0.1440,0.0180,20.0000,349.0000,588.0000,-0.9180,-0.4520,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.5000,-0.1720,0.0000,-0.5740,0.0920,1.0000,0.0000,0.0000,0.0000,0.0000], },
  diamond:           { jsfx: ["square",14.0000,0.3450,0.0000,0.0100,0.3450,0.1400,20.0000,1368.0000,2400.0000,0.0000,0.0000,0.0000,0.0100,0.0003,0.0000,0.2640,0.1160,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000], },
  diamondSpikeBirth: { jsfx: ["square",14.0000,0.3450,0.0000,0.0100,0.3450,0.1400,20.0000,1779.0000,2400.0000,0.0000,0.0000,0.9800,0.5859,0.0003,0.0000,0.2640,0.2270,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000], },
  grow:              { jsfx: ["synth",14.0000,0.3450,0.0000,0.0360,0.0000,0.2300,100.0000,1447.0000,2400.0000,-0.7380,-0.1480,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.2975,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000], },
  explode:           { jsfx: ['noise',0.0000,0.2360,0.0000,0.4180,1.8690,0.5380,20.0000,300.0000,2400.0000,-0.0940,0.0000,0.0000,0.3939,0.0679,0.1400,-0.7120,0.8100,0.0000,0.0000,0.4600,-0.1000,-0.0300,0.9900,-0.0660,0.9990,0.0000,0.0000]  , },
  eggFall:           { jsfx: ["sine",14.0000,0.3450,0.0000,0.0580,0.5100,0.1200,20.0000,198.0000,2400.0000,0.2800,0.0000,0.0000,0.0100,0.0003,0.0000,0.3940,0.2390,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000], },
  open:              { jsfx: ["square",14.0000,0.3020,0.0000,0.5060,0.0000,0.3840,20.0000,745.0000,2400.0000,0.1440,0.0000,0.4150,22.5173,0.0003,0.0000,0.0000,0.0000,0.0570,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000], },
  magic:             { jsfx: ["saw",3.0000,0.3020,0.0220,0.8560,0.1080,0.1200,1416.0000,162.0000,940.0000,0.4080,-0.7860,0.2920,23.7171,0.9363,0.1780,0.0000,0.3460,0.1310,-0.1060,0.3584,-0.3500,-0.3940,0.6010,0.8020,0.7810,0.4770,-0.2360], },
  die:               { jsfx: ['square',0.0000,0.4020,0.0000,1.0660,0.0000,0.2680,20.0000,262.0000,2400.0000,-0.3060,0.0000,0.6590,12.2475,0.4319,-0.1960,0.3320,0.0000,0.0000,-0.0140,0.0000,0.0000,0.0000,1.0000,-0.0100,0.0000,0.0000,-1.0000], },
  dieOld:            { jsfx: ['saw',0.0000,0.4020,0.0000,1.0660,0.0000,0.2680,20.0000,262.0000,2400.0000,-0.3060,0.0000,0.6590,12.2475,0.4319,-0.1960,0.3320,0.0000,0.0000,-0.0140,0.0000,0.0000,0.0000,1.0000,-0.0100,0.0000,0.0000,-1.0000]   , },
  pickup:            { jsfx: ['sine',0.0000,0.4000,0.0000,0.2860,0.0000,0.2760,20.0000,1006.0000,2400.0000,-0.6120,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.2190,0.1860,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]      , },
  reappear:          { jsfx: ['square',0.0000,0.4000,0.1740,1.1080,1.3530,0.5660,20.0000,422.0000,2400.0000,-0.4340,0.2980,0.4530,17.2864,0.0003,0.0000,0.5740,0.1740,0.0000,-0.1260,0.1280,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]   , },
  hatch:             { jsfx: ['sine',0.0000,0.4000,0.0000,0.0000,0.1980,0.1320,20.0000,249.0000,2400.0000,-0.5620,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.1840,0.0000]       , },
  swingup:           { jsfx: ['square',0.0000,0.4000,0.0000,0.0120,0.4560,0.4600,20.0000,1176.0000,2400.0000,0.0000,1.0000,0.0000,0.0100,0.0003,0.0000,0.4740,0.2480,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000], },
  coin:              { jsfx: ['square',0.0000,0.3770,0.0000,0.0860,1.0620,0.1980,20.0000,763.0000,2400.0000,0.0000,0.0000,0.0000,0.0100,0.0003,0.0080,0.3880,0.0950,0.0000,0.0000,0.0000,0.0120,0.5300,1.0000,0.0000,0.0000,0.0000,0.0000] , },
  coinishAxe:        { jsfx: ['square',0.0000,0.4000,0.0000,0.0200,0.4080,0.3400,20.0000,692.0000,2400.0000,0.0000,0.0000,0.0000,0.0100,0.0003,0.0000,0.4740,0.1110,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000] , },
  takeHitShotsound3: { jsfx: ['saw',0.0000,0.4000,0.0000,0.1200,0.0000,0.3580,20.0000,988.0000,2400.0000,-0.6800,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.3755,0.0180,0.0000,0.0760,0.1760,1.0000,0.0000,0.0000,0.0000,0.0000]   , },
  tinnySwingUp:      { jsfx: ['saw',0.0000,0.4000,0.0000,0.0620,0.0000,0.2400,20.0000,596.0000,2400.0000,0.6180,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.4080,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]    , },
  beamMeUp:          { jsfx: ['square',0.0000,0.4000,0.0000,0.3480,0.0000,0.4040,20.0000,550.0000,2400.0000,0.2420,0.0000,0.6560,37.2982,0.0003,0.0000,0.0000,0.0000,0.3500,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000], },
  stunned:           { jsfx: ['saw',0.0000,0.4000,0.0000,0.2520,0.0000,0.4220,20.0000,638.0000,2400.0000,0.0720,0.0000,0.2100,10.5198,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]   , },
  mellowStunned:     { jsfx: ['saw',0.0000,0.4000,0.0000,0.0660,0.0000,0.3380,20.0000,455.0000,2400.0000,0.0760,0.0000,0.3150,11.0477,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]   , },
  amoebaToEggs:      { jsfx: ['square',0.0000,0.4000,0.0000,0.3120,0.0000,0.4940,20.0000,533.0000,2400.0000,0.0640,0.0000,0.6000,31.9233,0.0003,0.0000,0.0000,0.0000,0.5000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000] , },
  amoebaToDiamonds:  { jsfx: ['square',0.0000,0.4000,0.0000,0.2160,0.0000,0.4120,20.0000,608.0000,2400.0000,0.2240,0.0000,0.5820,15.5108,0.0003,0.0000,0.0000,0.0000,0.3315,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000] , },
  start:             { jsfx: ['square',0.0000,0.4000,0.0000,0.2960,0.0000,0.3600,20.0000,497.0000,2400.0000,0.1880,0.0000,0.6060,32.0193,0.0003,0.0000,0.0000,0.0000,0.0125,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000] , },
  endScore:          { jsfx: ["square",0.0000,0.4000,0.0000,0.0240,0.4590,0.0080,20.0000,1826.0000,2400.0000,0.0000,0.0000,0.0000,0.0100,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000] , },

  s01: { jsfx: ['sine',0.0000,0.4000,0.5980,1.7220,2.3190,1.8360,1254.0000,1938.0000,788.0000,-0.9560,-0.4620,0.9680,11.3836,0.3513,0.4760,0.6620,0.1460,0.3025,0.7360,0.5592,0.8640,-0.6040,0.5090,0.2000,0.2840,0.0790,0.4660]      , },
  s02: { jsfx: ['square',0.0000,0.4000,0.1940,1.6020,0.5730,0.6580,2322.0000,2045.0000,2119.0000,-0.9500,-0.8140,0.0820,7.0645,0.0133,0.0500,0.8700,0.5680,0.4215,-0.2820,0.6608,-0.7340,0.6680,0.4040,-0.3500,0.7630,0.7930,0.7620]  , },
  s03: { jsfx: ['saw',0.0000,0.4000,0.2920,0.8200,1.0710,1.3200,1693.0000,1445.0000,1264.0000,-0.5400,0.9080,0.4770,9.7520,-0.0010,-0.3100,-0.2260,0.2810,0.2095,-0.2400,0.7184,-0.3740,0.3360,0.5160,-0.2700,0.6290,0.2880,0.2980]   , },
  s04: { jsfx: ['synth',0.0000,0.4000,0.4480,1.3320,0.3540,0.5220,176.0000,445.0000,1067.0000,0.8340,0.3920,0.4790,24.1970,0.8284,0.2440,0.7220,0.8090,0.0045,0.7900,0.5704,0.5100,0.9600,0.5870,0.3120,0.5890,0.9660,0.8900]         , },
  s05: { jsfx: ['noise',0.0000,0.4000,0.1910,0.6920,1.6080,1.8580,2155.0000,1589.0000,2396.0000,-0.7620,0.3240,0.3640,32.2593,0.7426,-0.5060,-0.2740,0.9420,0.4915,-0.9640,0.3448,0.5580,-0.0940,0.4490,-0.6180,0.9520,0.9030,0.9880] , },
  s06: { jsfx: ['saw',0.0000,0.4000,0.4450,1.6420,2.3100,0.5360,835.0000,1226.0000,133.0000,0.4520,-0.4600,0.5290,3.8972,0.7140,-0.1380,0.7140,0.7710,0.4980,-0.8280,0.0688,-0.7800,0.5140,0.5790,-0.8080,0.8670,0.5680,0.0740]       , },
  s07: { jsfx: ['square',0.0000,0.4000,0.7110,0.9080,1.7190,1.0980,1189.0000,1079.0000,721.0000,0.8680,0.9740,0.7320,45.4085,-0.0192,-0.5460,-0.2940,0.5570,0.2145,0.9220,0.2112,-0.4460,0.1260,0.3310,0.2100,0.6890,0.9990,0.0800]   , },
  s08: { jsfx: ['saw',0.0000,0.4000,0.0000,0.3760,0.0000,0.4360,20.0000,491.0000,2400.0000,0.2300,0.0000,0.6140,36.2904,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]            , },
  s09: { jsfx: ['square',0.0000,0.4000,0.0000,0.3120,0.0000,0.4940,20.0000,533.0000,2400.0000,0.0640,0.0000,0.6000,31.9233,0.0003,0.0000,0.0000,0.0000,0.5000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]         , },
  s10: { jsfx: ['square',0.0000,0.4000,0.0000,0.2960,0.0000,0.3600,20.0000,497.0000,2400.0000,0.1880,0.0000,0.6060,32.0193,0.0003,0.0000,0.0000,0.0000,0.0125,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]         , },
  s11: { jsfx: ['square',0.0000,0.4000,0.0000,0.2160,0.0000,0.4120,20.0000,608.0000,2400.0000,0.2240,0.0000,0.5820,15.5108,0.0003,0.0000,0.0000,0.0000,0.3315,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]         , },
  s12: { jsfx: ['saw',0.0000,0.4000,0.0000,0.0420,0.0000,0.2000,20.0000,608.0000,2400.0000,0.2060,0.0000,0.4090,23.6211,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]            , },
  s13: { jsfx: ['square',0.0000,0.4000,0.0000,0.0600,0.0000,0.3120,20.0000,533.0000,2400.0000,0.0520,0.0000,0.1700,12.7753,0.0003,0.0000,0.0000,0.0000,0.2345,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]         , },
  s14: { jsfx: ['saw',0.0000,0.4000,0.0000,0.0320,0.0000,0.4200,20.0000,643.0000,2400.0000,0.0900,0.0000,0.6060,10.2319,0.0003,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]            , },
  s15: { jsfx: ['square',0.0000,0.4000,0.0000,0.2520,0.0000,0.1660,20.0000,534.0000,2400.0000,0.2420,0.0000,0.3690,27.2683,0.0003,0.0000,0.0000,0.0000,0.1030,0.0000,0.0000,0.0000,0.0000,1.0000,0.0000,0.0000,0.0000,0.0000]         , },
  s16: { jsfx: ['synth',0.0000,0.4000,0.6550,1.4680,2.5350,0.5840,2379.0000,2327.0000,463.0000,0.7460,-0.8520,0.4240,30.3397,0.4904,-0.0600,0.9260,0.2620,0.1735,0.6120,0.5656,0.5760,-0.0060,0.8100,0.3700,0.0900,0.6270,0.1400]     , },
  s17: { jsfx: ['synth',0.0000,0.4000,0.9830,0.7140,1.5570,1.0200,444.0000,1502.0000,2275.0000,-0.9600,0.2020,0.4350,8.9361,0.4917,-0.8860,0.5400,0.2850,0.0435,-0.4200,0.5656,-0.8280,0.3340,0.2030,-0.1440,0.9500,0.5480,0.6220]    , },
};
for (const {jsfx} of Object.values(sounds)) {
  jsfx[2] *= 0.5;
}
/* eslint-enable quotes */
/* eslint-enable optional-comma-spacing/optional-comma-spacing */
const dummy = {
  stop() {
    //
  },
};

let playSoundFn = () => {};

export function init() {
  const audioManager = new AudioManager(sounds);
  audioManager.on('started', () => {
    playSoundFn = (...args) => {
      const [name] = args;
      const sound = sounds[name];
      if (sound) {
        const currentTime = (performance.now() | 0);
        if (currentTime - sound.lastTime < 50) {
          return dummy;
        }
        sound.lastTime = currentTime;
      }
      return audioManager.playSound(...args);
    };
  });
}

export function playSound(...args) {
  return playSoundFn(...args);
}

